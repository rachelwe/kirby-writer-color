var f=Object.defineProperty,w=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var l=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var c=(n,t,r)=>t in n?f(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,i=(n,t)=>{for(var r in t||(t={}))y.call(t,r)&&c(n,r,t[r]);if(l)for(var r of l(t))b.call(t,r)&&c(n,r,t[r]);return n},d=(n,t)=>w(n,M(t));(function(){"use strict";function n(s){const e=window.panel.plugins.thirdParty;if(e.__marksInitialized)return;const a=e.marks;if(!a)return;const u=s.component("k-writer");s.component("k-writer",{extends:u,methods:{createMarks(){const h=u.options.methods.createMarks.call(this).filter(({name:o})=>!Object.keys(a).includes(o)),k=Object.entries(a).reduce((o,[g,p])=>(o[g]=new p,o),{});return[...h,...this.filterExtensions(k,this.marks)]}}}),e.__marksInitialized=!0}class t{constructor(e={}){this.options=i(i({},this.defaults),e)}init(){return null}bindEditor(e=null){this.editor=e}get name(){return null}get type(){return"extension"}get defaults(){return{}}plugins(){return[]}inputRules(){return[]}pasteRules(){return[]}keys(){return{}}}class r extends t{constructor(e={}){super(e)}command(){return()=>{}}remove(){this.editor.removeMark(this.name)}get schema(){return null}get type(){return"mark"}toggle(){return this.editor.toggleMark(this.name)}update(e){this.editor.updateMark(this.name,e)}}class m extends r{get button(){return{icon:"quote",label:"Footnote"}}commands(){return()=>this.toggle()}get name(){return"footnote"}get schema(){return{parseDOM:[{tag:"article-footnote"}],toDOM:e=>["article-footnote",i({},e.attrs),0]}}}window.panel.plugin("johannschopplich/kirby-writer-marks",{use:[n],thirdParty:{marks:d(i({},window.panel.plugins.thirdParty.marks||{}),{footnote:m})}})})();
